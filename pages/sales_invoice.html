<!DOCTYPE html>
<html lang="ar">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÙØ§ØªÙˆØ±Ø© Ù…Ø¨ÙŠØ¹Ø§Øª</title>

    <style>
        body {
            font-family: Arial;
            background: #000;
            color: #fff;
            direction: rtl;
            padding: 15px;
        }

        h1 {
            text-align: center;
            border-bottom: 3px solid gold;
            padding-bottom: 10px;
        }

        select, input {
            width: 95%;
            padding: 12px;
            margin: 6px 0;
            border-radius: 10px;
            border: 1px solid gold;
            font-size: 18px;
            background: #111;
            color: #fff;
        }

        .section {
            padding: 15px;
            background: #111;
            border: 2px solid gold;
            border-radius: 10px;
            margin-bottom: 15px;
        }

        table {
            width: 100%;
            margin-top: 10px;
            border-collapse: collapse;
        }

        th, td {
            padding: 10px;
            border-bottom: 1px solid #333;
            text-align: center;
        }

        button {
            width: 100%;
            padding: 15px;
            background: gold;
            border: none;
            color: #000;
            font-size: 20px;
            font-weight: bold;
            border-radius: 10px;
            cursor: pointer;
            margin-top: 10px;
        }

        .delete-btn {
            background: red;
            color: #fff;
            padding: 8px 12px;
            border-radius: 6px;
            cursor: pointer;
        }
    </style>
</head>

<body>

    <h1>ğŸ§¾ ÙØ§ØªÙˆØ±Ø© Ù…Ø¨ÙŠØ¹Ø§Øª</h1>

    <!-- Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø¹Ù…ÙŠÙ„ -->
    <div class="section">
        <h3>ğŸ‘¤ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø¹Ù…ÙŠÙ„</h3>
        <select id="customerSelect">
            <option value="">â€” Ø§Ø®ØªØ± Ø§Ù„Ø¹Ù…ÙŠÙ„ â€”</option>
        </select>

        <button onclick="addNewCustomer()">â• Ø¥Ø¶Ø§ÙØ© Ø¹Ù…ÙŠÙ„ Ø¬Ø¯ÙŠØ¯</button>
    </div>

    <!-- Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„ØµÙ†Ù -->
    <div class="section">
        <h3>â• Ø¥Ø¶Ø§ÙØ© ØµÙ†Ù Ù„Ù„ÙØ§ØªÙˆØ±Ø©</h3>

        <input id="barcodeInput" placeholder="ğŸ“· Ù…Ø³Ø­ Ø¨Ø§Ø±ÙƒÙˆØ¯ Ø£Ùˆ ÙƒØªØ§Ø¨Ø© Ø§Ù„ÙƒÙˆØ¯">
        <input id="productNameInput" placeholder="ğŸ” Ø§Ø³Ù… Ø§Ù„ØµÙ†Ù">
        <input id="productQty" type="number" placeholder="ğŸ”¢ Ø§Ù„ÙƒÙ…ÙŠØ©" value="1">

        <button onclick="addItemToInvoice()">Ø¥Ø¶Ø§ÙØ© Ù„Ù„ÙØ§ØªÙˆØ±Ø© â•</button>
    </div>

    <!-- Ø¬Ø¯ÙˆÙ„ Ø§Ù„ÙØ§ØªÙˆØ±Ø© -->
    <div class="section">
        <h3>ğŸ§¾ Ø§Ù„Ø£ØµÙ†Ø§Ù Ø§Ù„Ù…Ø¶Ø§ÙØ©</h3>

        <table>
            <thead>
                <tr>
                    <th>Ø§Ù„ØµÙ†Ù</th>
                    <th>Ø§Ù„Ø³Ø¹Ø±</th>
                    <th>ÙƒÙ…ÙŠØ©</th>
                    <th>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</th>
                    <th>Ø­Ø°Ù</th>
                </tr>
            </thead>
            <tbody id="invoiceTableBody"></tbody>
        </table>
    </div>

    <!-- Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ -->
    <div class="section">
        <h3>ğŸ’° Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹</h3>

        <label>
            <input type="checkbox" id="taxCheck"> Ø¥Ø¶Ø§ÙØ© Ø¶Ø±ÙŠØ¨Ø© 15%
        </label>

        <p>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø¨Ø¯ÙˆÙ† Ø¶Ø±ÙŠØ¨Ø©: <span id="totalNoTax">0</span> Ø±ÙŠØ§Ù„</p>
        <p>Ø§Ù„Ø¶Ø±ÙŠØ¨Ø©: <span id="taxAmount">0</span> Ø±ÙŠØ§Ù„</p>
        <p><b>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ: <span id="finalTotal">0</span> Ø±ÙŠØ§Ù„</b></p>

        <input id="paidAmount" type="number" placeholder="ğŸ’µ Ø§Ù„Ù…Ø¯ÙÙˆØ¹">
        <p>Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ: <span id="remainingAmount">0</span> Ø±ÙŠØ§Ù„</p>
    </div>

    <button onclick="saveInvoice()">ğŸ’¾ Ø­ÙØ¸ Ø§Ù„ÙØ§ØªÙˆØ±Ø©</button>

    <script type="module" src="../supabase.js"></script>
    <script type="module" src="../js/invoice.js"></script>

</body>

</html>
