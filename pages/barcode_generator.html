<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>إنشاء باركود للمنتجات</title>

<script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.5/dist/JsBarcode.all.min.js"></script>

<style>
    body {
        font-family: "Tajawal", sans-serif;
        background: #000;
        color: #fff;
        padding: 20px;
        text-align: center;
    }
    h2 {
        color: gold;
    }
    .box {
        background: #111;
        padding: 20px;
        border-radius: 12px;
        max-width: 400px;
        margin: auto;
        box-shadow: 0 0 10px gold;
    }
    input {
        width: 100%;
        padding: 12px;
        font-size: 18px;
        border-radius: 8px;
        border: 1px solid #555;
        margin-bottom: 15px;
        text-align: center;
    }
    button {
        width: 100%;
        background: gold;
        color: #000;
        padding: 12px;
        font-size: 18px;
        border: none;
        border-radius: 10px;
        cursor: pointer;
        font-weight: bold;
    }
    svg {
        margin-top: 20px;
        background: #fff;
        padding: 10px;
        border-radius: 10px;
    }
</style>
</head>

<body>

<h2>إنشاء باركود للمنتج</h2>

<div class="box">

    <input type="text" id="itemCode" placeholder="أدخل رقم الصنف">
    <button onclick="generateBarcode()">إنشاء الباركود</button>

    <svg id="barcode"></svg>

    <button onclick="downloadBarcode()">تحميل الباركود</button>

</div>

<script>
function generateBarcode() {
    let code = document.getElementById("itemCode").value.trim();
    
    if (!code) {
        alert("⚠️ الرجاء إدخال رقم الصنف");
        return;
    }

    JsBarcode("#barcode", code, {
        format: "CODE128",
        width: 2,
        height: 60,
        displayValue: true,
        fontSize: 18
    });
}

function downloadBarcode() {
    let svg = document.getElementById("barcode");
    let xml = new XMLSerializer().serializeToString(svg);
    let svg64 = btoa(xml);
    let b64start = 'data:image/svg+xml;base64,';
    let image64 = b64start + svg64;

    let link = document.createElement("a");
    link.href = image64;
    link.download = "barcode.png";
    link.click();
}
</script>

</body>
</html>
